<script>
var lastpos = 0;
    document.addEventListener('scroll',function() {
      let pos = document.documentElement.scrollTop || document.body.scrollTop; // use window.pageYOffset?
      let windowHeight = document.documentElement.clientHeight || window.innerHeight;
      let sHeight = document.documentElement.scrollHeight;
      let maxScrollHeight = sHeight-windowHeight;
      if (pos >= maxScrollHeight) {
        pos = maxScrollHeight;
      }
      let pWidth = ((pos/maxScrollHeight)*100);

      let top = document.getElementById('top');
      let percent = document.getElementById('percent');

      if (pos>top.clientHeight && lastpos<=pos) {
        top.style.top = (-top.clientHeight)+'px';
      } else {
        top.style.top = 0;
      }
      percent.style.width = Math.ceil(pWidth)+'%';
      lastpos = pos;

    },true);
</script>
